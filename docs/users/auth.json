[
    {
        "path": "host/api/v1/users/auth/register-with-email-and-password",
        "description": "Register user with email and password",
        "method": "POST",
        "request_body": {
            "type": "json",
            "body": {
                "full_name": "the lenght needs to be greater than 0",
                "email": "m_ouchene@estin.dz",
                "password": "the lenght needs to be greater 4"
            }
        },
        "reponses": [
            {
                "code": "bad request",
                "responses": [
                    {
                        "message": {
                            "full_name": "required",
                            "password": "required,invalid",
                            "email": "required,invalid"
                        }
                    },
                    {
                        "message": "email already in use"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "message": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/users/auth/login-with-email-and-password",
        "description": "Login user with email and password",
        "method": "POST",
        "request_body": {
            "type": "json",
            "body": {
                "email": "m_ouchene@estin.dz",
                "password": "the lenght needs to be greater 4"
            }
        },
        "reponses": [
            {
                "code": "ok",
                "responses": [
                    {
                        "cookies": [
                            {
                                "name": "id_token",
                                "description": "id token to authorize user to do some actions"
                            },
                            {
                                "name": "refresh_token",
                                "description": "refresh token to refresh the id token when it expires or when user role changes"
                            }
                        ]
                    }
                ]
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "message": {
                            "password": "required,invalid",
                            "email": "required,invalid"
                        }
                    },
                    {
                        "message": "email not verified"
                    },
                    {
                        "message": "incorrect password"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "message": "email not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "message": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/users/auth/send-email-verification-link",
        "description": "link send by email to verify user email",
        "method": "POST",
        "request_body": {
            "type": "json",
            "body": {
                "email": "m_ouchene@estin.dz"
            }
        },
        "reponses": [
            {
                "code": "ok"
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "message": {
                            "email": "required,invalid"
                        }
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "message": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/users/auth/send-password-reset-link",
        "description": "link send by email to reset user password",
        "method": "POST",
        "request_body": {
            "type": "json",
            "body": {
                "email": "m_ouchene@estin.dz"
            }
        },
        "reponses": [
            {
                "code": "ok"
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "message": {
                            "email": "required,invalid"
                        }
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "message": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/users/auth/oauth/:provider/login",
        "description": "navigate to this endpoint to login with your facebook or google account",
        "method": "GET",
        "path_params": [
            {
                "name": "provider",
                "values": "google,facebook",
                "required": true
            }
        ],
        "query_params": [
            {
                "name": "success_url",
                "required": true,
                "description": "url to navigate to when login is successful"
            },
            {
                "name": "failure_url",
                "required": true,
                "description": "url to navigate to when login fails"
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": [
                    {
                        "cookies": [
                            {
                                "name": "id_token",
                                "description": "id token to authorize user to do some actions"
                            },
                            {
                                "name": "refresh_token",
                                "description": "refresh token to refresh the id token when it expires or when user role changes"
                            }
                        ]
                    }
                ]
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "message": {
                            "success_url": "required",
                            "failure_url": "required"
                        }
                    },
                    {
                        "message": "provider not supported"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "message": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/users/refresh-id-token",
        "description": "refresh your id token",
        "method": "GET",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer refresh_token."
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": [
                    {
                        "cookies": [
                            {
                                "name": "id_token",
                                "description": "new id token to authorize user to do some actions"
                            }
                        ]
                    }
                ]
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "message": "undefined authorization"
                    },
                    {
                        "message": "undefined refresh token"
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "message": "refresh token expired"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "message": "user not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "message": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    }
]