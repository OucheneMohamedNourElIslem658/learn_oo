[
    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/lessons/create-with-content",
        "description": "create lessons with doc content",
        "method": "POST",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "title": "required",
            "description": "required",
            "content": "map[string]any represetion quill doc json and it is required"
        },
        "reponses": [
            {
                "code": "created",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/lessons/create-with-video",
        "description": "create lessons with video content",
        "method": "POST",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "type": "multipart/form-data",
            "body": {
                "title": "required",
                "description": "required",
                "video": "video file"
            }
        },
        "reponses": [
            {
                "code": "created",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/lessons/:lesson_id",
        "description": "update lesson",
        "method": "PUT",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "title": "string",
            "description": "string",
            "content": "map[string]any represetion quill doc json and it is required"
        },
        "reponses": [
            {
                "code": "ok",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    },
                    {
                        "error": "lesson is a video"
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    },
                    {
                        "error": "lesson not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id",
        "description": "get lesson",
        "method": "GET",
        "query_params": [
            {
                "name": "append_with",
                "values": "chapter,learners",
                "required": false,
                "description": "include some infos associated to the chapter"
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": [
                    {
                        "id": 23,
                        "created_at": "2024-12-15T09:51:51.336273Z",
                        "updated_at": "2024-12-15T09:51:51.336273Z",
                        "deleted_at": null,
                        "title": "Variables and Constants",
                        "description": "Learn how to declare variables and constants in Go.",
                        "is_video": false,
                        "content": {
                          "ops": [
                            {
                              "insert": "Variables and constants are fundamental in Go.\n"
                            }
                          ]
                        },
                        "video": null,
                        "chapter_id": 15,
                        "chapter": {
                          "id": 15,
                          "created_at": "2024-12-15T09:51:51.236287Z",
                          "updated_at": "2024-12-15T09:51:51.236287Z",
                          "deleted_at": null,
                          "title": "Go Basics",
                          "description": "Learn the basic syntax and data structures of Go.",
                          "course_id": 18,
                          "course": null,
                          "lessons": null,
                          "test": null
                        },
                        "learners": [
                          {
                            "id": "92d856d0-a0ee-4220-81b4-66e8adc073fc",
                            "created_at": "2024-12-11T13:11:39.167269Z",
                            "updated_at": "2024-12-13T13:32:04.17469Z",
                            "deleted_at": null,
                            "email": "m_ouchene@estin.dz",
                            "password": "$2a$10$0pImKZSJKjGFcIKcpz27zuhNXwolVaiUbfBPqZZJJxLQNCGqRQjzq",
                            "full_name": "mohamed OUCHENE",
                            "email_verified": true,
                            "image": null,
                            "author_profile": null,
                            "courses": null,
                            "lessons": null,
                            "tests": null
                          }
                        ]
                      }
                ]
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    },
                    {
                        "error": "lesson not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/lessons/:lesson_id",
        "description": "delete lesson",
        "method": "DELETE",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    },
                    {
                        "error": "lesson not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/lessons/:lesson_id/video",
        "description": "create lessons with video content",
        "method": "POST",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "type": "multipart/form-data",
            "body": {
                "title": "required",
                "description": "required",
                "video": "video file"
            }
        },
        "reponses": [
            {
                "code": "created",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "lesson is not a video"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    },
                    {
                        "error": "lesson not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    }
]