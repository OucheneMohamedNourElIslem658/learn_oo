[
    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/tests",
        "description": "create test",
        "method": "POST",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "max_chances": "min=1, default=1"
        },
        "reponses": [
            {
                "code": "created",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/tests/:test_id",
        "description": "update test",
        "method": "PUT",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "max_chances": "min=1, default=1"
        },
        "reponses": [
            {
                "code": "ok",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    },
                    {
                        "error": "test not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/tests/:test_id",
        "description": "get test",
        "method": "GET",
        "query_params": [
            {
                "name": "append_with",
                "values": "questions,chapter",
                "required": false,
                "description": "include some infos associated to the test"
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": [
                    {
                        "id": 2,
                        "questions": [
                          {
                            "id": 1,
                            "content": "What is the organization that created Golang?",
                            "description": "it is not that hard",
                            "duration": 30,
                            "test_id": 2,
                            "options": [
                              {
                                "id": 1,
                                "content": "google",
                                "is_correct": true,
                                "question_id": 1
                              },
                              {
                                "id": 2,
                                "content": "facebook",
                                "is_correct": false,
                                "question_id": 1
                              },
                              {
                                "id": 3,
                                "content": "twitter",
                                "is_correct": false,
                                "question_id": 1
                              },
                              {
                                "id": 4,
                                "content": "microsoft",
                                "is_correct": false,
                                "question_id": 1
                              }
                            ]
                          },
                          {
                            "id": 2,
                            "content": "What is the organization that created Golang?",
                            "description": "it is not that hard",
                            "duration": 30,
                            "test_id": 2,
                            "options": [
                              {
                                "id": 5,
                                "content": "google",
                                "is_correct": true,
                                "question_id": 2
                              },
                              {
                                "id": 6,
                                "content": "google",
                                "is_correct": false,
                                "question_id": 2
                              },
                              {
                                "id": 7,
                                "content": "twitter",
                                "is_correct": false,
                                "question_id": 2
                              },
                              {
                                "id": 8,
                                "content": "microsoft",
                                "is_correct": false,
                                "question_id": 2
                              }
                            ]
                          }
                        ],
                        "max_chances": 3,
                        "chapter_id": 24,
                        "chapter": {
                          "id": 24,
                          "title": "Getting Started",
                          "description": "Introduction to acting and the world of performance.",
                          "course_id": 25
                        }
                      }
                ]
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    },
                    {
                        "error": "lesson not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/tests/:test_id",
        "description": "delete test",
        "method": "DELETE",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "chapter not found"
                    },
                    {
                        "error": "test not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/tests/:test_id/questions",
        "description": "create question",
        "method": "POST",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "content": "required",
            "description": "optional",
            "duration": "min=10, required",
            "options": [
                {
                    "validation": "must at least contain two elements, without duplicates, and at least one correct option"
                },
                {
                    "option": "required string", 
                    "is_correct": "required bool" 
                },
                {
                    "option": "...", 
                    "is_correct": false 
                }
              ]
        },
        "reponses": [
            {
                "code": "created",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "test not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/tests/:test_id/questions/:question_id",
        "description": "update question",
        "method": "PUT",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "request_body": {
            "content": "string",
            "description": "string",
            "duration": "min=10",
            "options": [
                {
                    "validation": "must at least contain two elements, without duplicates, and at least one correct option, not required"
                },
                {
                    "option": "required string", 
                    "is_correct": "required bool" 
                },
                {
                    "option": "...", 
                    "is_correct": false 
                }
              ]
        },
        "reponses": [
            {
                "code": "ok",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    },
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "test not found"
                    },
                    {
                        "error": "question not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/tests/:test_id",
        "description": "get question",
        "method": "GET",
        "query_params": [
            {
                "name": "append_with",
                "values": "test",
                "required": false,
                "description": "include some infos associated to the question"
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": [
                    {
                    "id": 2,
                    "content": "What is the organization that created Golang?",
                    "description": "it is not that hard",
                    "duration": 30,
                    "test_id": 2,
                    "test": {
                      "id": 2,
                      "max_chances": 3,
                      "chapter_id": 24
                    },
                    "options": [
                      {
                        "id": 5,
                        "content": "google",
                        "is_correct": true,
                        "question_id": 2
                      },
                      {
                        "id": 6,
                        "content": "google",
                        "is_correct": false,
                        "question_id": 2
                      },
                      {
                        "id": 7,
                        "content": "twitter",
                        "is_correct": false,
                        "question_id": 2
                      },
                      {
                        "id": 8,
                        "content": "microsoft",
                        "is_correct": false,
                        "question_id": 2
                      }
                    ]
                  }
                ]
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "bad request",
                        "field 1": "validation of field 1",
                        "...": "..."
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "test not found"
                    },
                    {
                        "error": "question not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    },

    {
        "path": "host/api/v1/courses/:course_id/chapters/:chapter_id/tests/:test_id/questions/:question_id",
        "description": "delete question",
        "method": "DELETE",
        "headers": [
            {
                "name": "Authorization",
                "type": "string",
                "required": true,
                "description": "Bearer id_token."
            }
        ],
        "reponses": [
            {
                "code": "ok",
                "responses": []
            },
            {
                "code": "bad request",
                "responses": [
                    {
                        "error": "invalid id token"
                    }
                ]
            },
            {
                "code": "unauthorized",
                "responses": [
                    {
                        "error": "id token expired"
                    },
                    {
                        "error": "user is not an author"
                    }
                ]
            },
            {
                "code": "not found",
                "responses": [
                    {
                        "error": "test not found"
                    },
                    {
                        "error": "question not found"
                    }
                ]
            },
            {
                "code": "internal server error",
                "responses": [
                    {
                        "error": "error message (contact me when you see one)"
                    }
                ]
            }
        ]
    }
]